import{r as n,d as y,j as e,b as D,f as E,A as P,c as R,L as c,R as g}from"./index-DxTk0xe3.js";import{p as U,a as L}from"./api-noOrG1dB.js";import{h as T,y as A,e as I,u as S,B as M}from"./index-D5hZmU8V.js";function H({isOpen:x,onClose:w}){const[r,t]=n.useState(""),[m,i]=n.useState([]),[h,d]=n.useState(!1),[v,j]=n.useState(!1),u=n.useRef(null),f=y();n.useEffect(()=>{x&&u.current&&u.current.focus()},[x]),n.useEffect(()=>{const a=setTimeout(()=>{r.trim()?o():(i([]),j(!1))},300);return()=>clearTimeout(a)},[r]);const o=async()=>{if(r.trim()){d(!0);try{const a=await U.search(r);i(a.data),j(!0)}catch(a){console.error("Lỗi khi tìm kiếm:",a),i([])}finally{d(!1)}}},b=a=>{f(`/product/${a}`),p()},k=()=>{f(`/search?q=${encodeURIComponent(r)}`),p()},p=()=>{t(""),i([]),j(!1),w()},s=a=>{a.key==="Enter"&&r.trim()&&k()};return x?e.jsx("div",{className:"search-overlay",onClick:p,children:e.jsxs("div",{className:"search-modal",onClick:a=>a.stopPropagation(),children:[e.jsx("div",{className:"search-header",children:e.jsxs("div",{className:"search-input-wrapper",children:[e.jsx(T,{className:"search-icon"}),e.jsx("input",{ref:u,type:"text",className:"search-input",placeholder:"Tìm kiếm sản phẩm...",value:r,onChange:a=>t(a.target.value),onKeyPress:s}),e.jsx("button",{className:"search-close-btn",onClick:p,children:e.jsx(A,{})})]})}),h&&e.jsxs("div",{className:"search-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Đang tìm kiếm..."})]}),!h&&v&&e.jsx("div",{className:"search-results-container",children:m.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"search-results-list",children:m.slice(0,5).map(a=>e.jsxs("div",{className:"search-result-item",onClick:()=>b(a.id),children:[e.jsx("img",{src:a.image,alt:a.name,className:"search-result-image"}),e.jsxs("div",{className:"search-result-info",children:[e.jsx("h4",{className:"search-result-name",children:a.name}),e.jsx("p",{className:"search-result-category",children:a.categoryName}),e.jsxs("p",{className:"search-result-price",children:[a.price.toLocaleString("vi-VN"),"đ"]})]})]},a.id))}),m.length>5&&e.jsxs("button",{className:"view-all-btn",onClick:k,children:["Xem tất cả ",m.length," kết quả"]})]}):e.jsx("div",{className:"no-results",children:e.jsxs("p",{children:['Không tìm thấy sản phẩm nào phù hợp với "',r,'"']})})}),!h&&!v&&r&&e.jsxs("div",{className:"search-suggestions",children:[e.jsx("h4",{children:"Gợi ý tìm kiếm:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Áo phông lớp"}),e.jsx("li",{children:"Áo lớp có cổ"}),e.jsx("li",{children:"Đồng phục học sinh"}),e.jsx("li",{children:"Áo thun cotton"})]})]})]})}):null}function B(){const[x,w]=n.useState([]),[r,t]=n.useState(null),[m,i]=n.useState(null),[h,d]=n.useState(!1),[v,j]=n.useState(!1),u=n.useRef(null),{getTotalItems:f}=D(),{user:o,logout:b}=E(),k=y();n.useEffect(()=>{function s(a){u.current&&!u.current.contains(a.target)&&d(!1)}return h?document.addEventListener("mousedown",s):document.removeEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[h]),n.useEffect(()=>{p()},[]);const p=async()=>{try{const s=await L.get(`${P}${R.MENU_CATEGORIES}`);w(s.data)}catch(s){console.error("Lỗi khi tải menu:",s)}};return e.jsxs("header",{className:"header",children:[e.jsx("nav",{className:"header-nav",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"nav-wrapper",children:[e.jsx("div",{className:"nav-left",children:x.slice(0,2).map(s=>e.jsxs("div",{className:"nav-item",onMouseEnter:()=>{s.hasDropdown&&(t(s.id),i(null))},onMouseLeave:()=>{s.hasDropdown&&(t(null),i(null))},children:[s.label==="TIN TỨC"?e.jsx(c,{to:g.NEWS,className:"nav-link",children:s.label}):s.label==="SẢN PHẨM"?e.jsx(c,{to:g.PRODUCTS,className:"nav-link",children:s.label}):s.label==="VỀ CHÚNG TÔI"?e.jsx(c,{to:g.ABOUT,className:"nav-link",children:s.label}):e.jsx("a",{href:s.link,className:"nav-link",children:s.label}),s.hasDropdown&&r===s.id&&e.jsx("div",{className:"dropdown-menu",children:s.productCategories?e.jsx("div",{className:"dropdown-categories",children:s.productCategories.map(a=>e.jsxs("div",{className:`category-item ${m===a.id?"active":""}`,onMouseEnter:()=>i(a.id),onMouseLeave:()=>i(null),children:[e.jsx(c,{to:`/products?category=${a.id}`,onClick:()=>{t(null),i(null)},children:a.name}),e.jsx("span",{className:"arrow",children:"›"}),m===a.id&&e.jsx("div",{className:"dropdown-subcategories",children:a.subcategories.map((N,l)=>e.jsx(c,{to:`/products?category=${a.id}&subcategory=${encodeURIComponent(N.name)}`,className:"subcategory-item",onClick:()=>{t(null),i(null)},children:N.name},l))})]},a.id))}):s.dropdown.map((a,N)=>e.jsxs("div",{className:"dropdown-column",children:[e.jsx("h3",{className:"dropdown-title",children:a.title}),e.jsx("ul",{className:"dropdown-list",children:a.items.map((l,C)=>e.jsx("li",{children:e.jsxs(c,{to:l.link,className:l.highlight?"highlight":"",onClick:()=>{t(null),i(null)},children:[l.name,l.subtitle&&e.jsx("span",{className:"subtitle",children:l.subtitle})]})},C))})]},N))})]},s.id))}),e.jsx(c,{to:"/",className:"logo",children:e.jsx("img",{src:"/images/MainLogo.png",alt:"Panda Uniform"})}),e.jsxs("div",{className:"nav-right",children:[x.slice(2).map(s=>e.jsxs("div",{className:"nav-item",onMouseEnter:()=>{s.hasDropdown&&t(s.id)},onMouseLeave:()=>{s.hasDropdown&&t(null)},children:[s.label==="TIN TỨC"?e.jsx(c,{to:g.NEWS,className:"nav-link",children:s.label}):e.jsx("a",{href:s.link,className:"nav-link",children:s.label}),s.hasDropdown&&r===s.id&&s.dropdown&&e.jsx("div",{className:"dropdown-menu",children:s.dropdown.map((a,N)=>e.jsxs("div",{className:"dropdown-column",children:[e.jsx("h3",{className:"dropdown-title",children:a.title}),e.jsx("ul",{className:"dropdown-list",children:a.items.map((l,C)=>e.jsx("li",{children:e.jsxs(c,{to:l.link,className:l.highlight?"highlight":"",onClick:()=>{t(null)},children:[l.name,l.subtitle&&e.jsx("span",{className:"subtitle",children:l.subtitle})]})},C))})]},N))})]},s.id)),e.jsx("button",{className:"header-icon",onClick:()=>j(!0),children:e.jsx(T,{size:22})}),e.jsxs(c,{to:g.CART,className:"header-icon cart-icon",children:[e.jsx(I,{size:22}),f()>0&&e.jsx("span",{className:"cart-badge",children:f()})]}),e.jsxs("div",{className:"user-menu",ref:u,children:[e.jsx("button",{className:"header-icon user-icon-btn",onClick:()=>d(s=>!s),"aria-haspopup":"true","aria-expanded":h,children:o?e.jsx("div",{className:"user-avatar",children:o.name?o.name.charAt(0).toUpperCase():"U"}):e.jsx(S,{size:22})}),h&&e.jsx("div",{className:"user-dropdown-menu",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"user-dropdown-header",children:[e.jsx("div",{className:"user-avatar-large",children:o.name?o.name.charAt(0).toUpperCase():"U"}),e.jsxs("div",{className:"user-info",children:[e.jsx("div",{className:"user-name",children:o.name||"User"}),e.jsx("div",{className:"user-email",children:o.email||""})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs(c,{to:"/profile",className:"user-dropdown-link",onClick:()=>d(!1),children:[e.jsx(S,{size:18}),e.jsx("span",{children:"Tài khoản của tôi"})]}),e.jsxs("button",{className:"user-dropdown-link logout-btn",onClick:()=>{b(),d(!1),k("/")},children:[e.jsx(M,{size:18}),e.jsx("span",{children:"Đăng xuất"})]})]}):e.jsx(e.Fragment,{children:e.jsxs(c,{to:"/login",className:"user-dropdown-link",onClick:()=>d(!1),children:[e.jsx(S,{size:18}),e.jsx("span",{children:"Đăng nhập"})]})})})]})]})]})})}),e.jsx(H,{isOpen:v,onClose:()=>j(!1)})]})}function $(){return e.jsxs("footer",{className:"footer",children:[e.jsx("div",{className:"footer-main",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"footer-content",children:[e.jsxs("div",{className:"footer-column",children:[e.jsx("h3",{className:"footer-title",children:"ĐỒNG PHỤC PANDA"}),e.jsx("p",{className:"footer-desc",children:"Panda Uniform tự hào là thương hiệu cung cấp đồng phục uy tín, chất lượng hàng đầu miền Bắc. Chúng tôi luôn nỗ lực dùng tất cả tâm huyết và trí lực của mình để mang tới cho các bạn những sản phẩm tuyệt vời nhất."})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h3",{className:"footer-title",children:"ĐẶT ÁO PANDA"}),e.jsxs("ul",{className:"footer-links",children:[e.jsx("li",{children:e.jsx("a",{href:"/tu-van/quy-trinh-dat-ao",children:"Quy trình đặt hàng"})}),e.jsx("li",{children:e.jsx("a",{href:"/products",children:"Góc chọn áo"})}),e.jsx("li",{children:e.jsx("a",{href:"/tu-van/bang-size",children:"Tư vấn chọn size"})}),e.jsx("li",{children:e.jsx("a",{href:"/tu-van/chinh-sach",children:"Ưu đãi quà tặng"})}),e.jsx("li",{children:e.jsx("a",{href:"/tu-van/phuong-thuc-thanh-toan",children:"Miễn phí vận chuyển"})}),e.jsx("li",{children:e.jsx("a",{href:"/tu-van/chinh-sach",children:"Chính sách bảo hành"})}),e.jsx("li",{children:e.jsx("a",{href:"/tu-van/phuong-thuc-thanh-toan",children:"Hình thức thanh toán"})}),e.jsx("li",{children:e.jsx("a",{href:"/tu-van/faq",children:"Câu hỏi thường gặp"})})]})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h3",{className:"footer-title",children:"LIÊN HỆ"}),e.jsxs("ul",{className:"footer-contact",children:[e.jsx("li",{children:e.jsx("a",{href:"tel:19008697",children:"1900 8697"})}),e.jsx("li",{children:e.jsx("a",{href:"mailto:dongphucsangxinmin@gmail.com",children:"dongphucsangxinmin@gmail.com"})}),e.jsx("li",{children:e.jsx("span",{children:"Số 25, ngách 2, ngõ 208 Trần Cung, phường Nghĩa Đô, TP Hà Nội"})})]})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h3",{className:"footer-title",children:"MẠNG XÃ HỘI"}),e.jsxs("div",{className:"social-links",children:[e.jsx("a",{href:"https://www.facebook.com/pandauniform",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"Facebook"}),e.jsx("a",{href:"https://www.instagram.com/panda_uniform",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"Instagram"}),e.jsx("a",{href:"https://www.tiktok.com/@dilamkieu.pandauniform",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"TikTok"}),e.jsx("a",{href:"https://www.youtube.com/pandauniform",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"Youtube"}),e.jsx("a",{href:"http://zalo.me/pandauniform",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"Zalo"})]})]})]})})}),e.jsx("div",{className:"footer-bottom",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"footer-bottom-content",children:[e.jsx("p",{className:"copyright",children:"Bản quyền 2025 © Website chính thức của Đồng phục Panda – Panda Uniform"}),e.jsx("p",{className:"company-info",children:"Website DongPhucPanda.com thuộc quyền sở hữu của Công Ty TNHH Thương Mại và Dịch Vụ 3S Việt Nam"})]})})})]})}export{$ as F,B as H};
