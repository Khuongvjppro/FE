import{r as o,d as v,f as N,g as w,j as e,R as b}from"./index-DxTk0xe3.js";function C(){const c=[{email:"user1@example.com",password:"123456",name:"User One"},{email:"user2@example.com",password:"abcdef",name:"User Two"}],[n,x]=o.useState({email:"",password:""}),[s,m]=o.useState(!0),[h,i]=o.useState(""),[l,d]=o.useState(""),g=v(),{login:j}=N(),f=w(),u=t=>{x({...n,[t.target.name]:t.target.value})},k=t=>{if(t.preventDefault(),i(""),s){const r=c.find(a=>a.email===n.email&&a.password===n.password);if(r){j(r);const p=new URLSearchParams(f.search).get("redirect");sessionStorage.getItem("pendingCheckout")&&p==="/checkout-info"?(d("Đăng nhập thành công! Đang chuyển đến trang thanh toán..."),sessionStorage.removeItem("pendingCheckout")):d("Đăng nhập thành công! Xin chào "+r.name),setTimeout(()=>{g(p||b.HOME)},1200)}else i("Email hoặc mật khẩu không đúng!")}else c.some(a=>a.email===n.email)?i("Email đã tồn tại!"):(alert("Đăng ký thành công! Bạn có thể đăng nhập."),m(!0))};return e.jsx("div",{className:"login-container",children:e.jsxs("div",{className:"login-card",children:[e.jsx("h2",{children:s?"Đăng Nhập":"Đăng Ký"}),e.jsxs("form",{onSubmit:k,children:[l&&e.jsx("div",{style:{color:"green",marginBottom:10,textAlign:"center"},children:l}),h&&!l&&e.jsx("div",{style:{color:"red",marginBottom:10,textAlign:"center"},children:h}),!s&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Họ và tên"}),e.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Nhập họ và tên",required:!s})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:u,placeholder:"Nhập email của bạn",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Mật khẩu"}),e.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:u,placeholder:"Nhập mật khẩu",required:!0})]}),!s&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Xác nhận mật khẩu"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Nhập lại mật khẩu",required:!s})]}),e.jsx("button",{type:"submit",className:"login-btn",children:s?"Đăng Nhập":"Đăng Ký"})]}),e.jsx("div",{className:"login-footer",children:e.jsxs("p",{children:[s?"Chưa có tài khoản? ":"Đã có tài khoản? ",e.jsx("span",{className:"toggle-form",onClick:()=>m(!s),children:s?"Đăng ký ngay":"Đăng nhập"})]})}),e.jsx("div",{className:"back-home",children:e.jsx("button",{onClick:()=>g("/"),className:"back-btn",children:"← Quay về trang chủ"})})]})})}export{C as default};
