import{b as j,f as x,d as u,j as s,L as c}from"./index-DxTk0xe3.js";import{i as N,j as m,k as p,l as v,m as g,f as i}from"./index-D5hZmU8V.js";function f(){const{cart:n,removeFromCart:h,updateQuantity:t,getTotalPrice:r,clearCart:o}=j(),{user:l}=x(),d=u(),e=a=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(a);return n.length===0?s.jsx("div",{className:"cart-page",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"empty-cart",children:[s.jsx("div",{className:"empty-cart-icon-wrapper",children:s.jsx(N,{className:"empty-cart-icon"})}),s.jsx("h2",{children:"Giá» hÃ ng trá»‘ng"}),s.jsx("p",{children:"Báº¡n chÆ°a cÃ³ sáº£n pháº©m nÃ o trong giá» hÃ ng"}),s.jsxs(c,{to:"/products",className:"continue-shopping-btn",children:[s.jsx(m,{size:18}),"Tiáº¿p tá»¥c mua sáº¯m"]})]})})}):s.jsx("div",{className:"cart-page",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"cart-header",children:[s.jsx("h1",{children:"Giá» hÃ ng cá»§a báº¡n"}),s.jsxs("p",{className:"cart-count",children:[n.length," sáº£n pháº©m"]})]}),s.jsxs("div",{className:"cart-content",children:[s.jsx("div",{className:"cart-items",children:n.map(a=>s.jsxs("div",{className:"cart-item",children:[s.jsx("div",{className:"cart-item-image",children:s.jsx("img",{src:a.image,alt:a.name})}),s.jsxs("div",{className:"cart-item-details",children:[s.jsx(c,{to:`/product/${a.id}`,className:"cart-item-name",children:a.name}),s.jsxs("div",{className:"cart-item-options",children:[a.selectedSize&&s.jsxs("span",{className:"item-option",children:["Size: ",s.jsx("strong",{children:a.selectedSize})]}),a.selectedColor&&s.jsxs("span",{className:"item-option",children:["MÃ u: ",s.jsx("strong",{children:a.selectedColor})]})]}),s.jsx("div",{className:"cart-item-price",children:e(a.price)})]}),s.jsxs("div",{className:"cart-item-actions",children:[s.jsxs("div",{className:"quantity-control",children:[s.jsx("button",{className:"qty-btn",onClick:()=>t(a.cartItemId,a.quantity-1),disabled:a.quantity<=1,children:s.jsx(p,{})}),s.jsx("span",{className:"quantity",children:a.quantity}),s.jsx("button",{className:"qty-btn",onClick:()=>t(a.cartItemId,a.quantity+1),children:s.jsx(v,{})})]}),s.jsx("button",{className:"remove-btn",onClick:()=>h(a.cartItemId),title:"XÃ³a sáº£n pháº©m",children:s.jsx(g,{})})]}),s.jsx("div",{className:"cart-item-subtotal",children:e(a.price*a.quantity)})]},a.cartItemId))}),s.jsxs("div",{className:"cart-summary",children:[s.jsxs("div",{className:"summary-card",children:[s.jsx("h3",{children:"TÃ³m táº¯t Ä‘Æ¡n hÃ ng"}),s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{children:"Táº¡m tÃ­nh:"}),s.jsx("span",{className:"summary-value",children:e(r())})]}),s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{children:"PhÃ­ váº­n chuyá»ƒn:"}),s.jsx("span",{className:"summary-value free",children:"Miá»…n phÃ­"})]}),s.jsx("div",{className:"summary-divider"}),s.jsxs("div",{className:"summary-row total",children:[s.jsx("span",{children:"Tá»•ng cá»™ng:"}),s.jsx("span",{className:"summary-total",children:e(r())})]}),s.jsx("button",{className:"checkout-btn",onClick:()=>{l?d("/checkout-info"):(sessionStorage.setItem("pendingCheckout","true"),d("/login?redirect=/checkout-info"))},children:"Tiáº¿n hÃ nh thanh toÃ¡n"}),!l&&s.jsx("div",{className:"login-notice",children:s.jsx("span",{children:"ğŸ’¡ Vui lÃ²ng Ä‘Äƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c thanh toÃ¡n"})}),s.jsxs(c,{to:"/",className:"continue-link",children:[s.jsx(m,{})," Tiáº¿p tá»¥c mua sáº¯m"]}),s.jsx("button",{className:"clear-cart-btn",onClick:o,children:"XÃ³a toÃ n bá»™ giá» hÃ ng"})]}),s.jsxs("div",{className:"cart-benefits",children:[s.jsxs("div",{className:"benefit-item",children:[s.jsx(i,{className:"benefit-icon"}),s.jsx("span",{children:"Miá»…n phÃ­ váº­n chuyá»ƒn vá»›i Ä‘Æ¡n hÃ ng trÃªn 500.000Ä‘"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx(i,{className:"benefit-icon"}),s.jsx("span",{children:"Äá»•i tráº£ trong vÃ²ng 7 ngÃ y"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx(i,{className:"benefit-icon"}),s.jsx("span",{children:"Thanh toÃ¡n an toÃ n & báº£o máº­t"})]})]})]})]})]})})}export{f as default};
