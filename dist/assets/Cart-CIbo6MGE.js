import{b as j,d as x,e as u,j as s,L as c}from"./index-B5h6h-9G.js";import{g as N,h as d,i as p,j as v,k as g,F as i}from"./index-CT37Nhcl.js";function f(){const{cart:n,removeFromCart:m,updateQuantity:t,getTotalPrice:r,clearCart:h}=j(),{user:o}=x(),l=u(),e=a=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(a);return n.length===0?s.jsx("div",{className:"cart-page",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"empty-cart",children:[s.jsx(N,{className:"empty-cart-icon"}),s.jsx("h2",{children:"Giỏ hàng trống"}),s.jsx("p",{children:"Bạn chưa có sản phẩm nào trong giỏ hàng"}),s.jsxs(c,{to:"/",className:"continue-shopping-btn",children:[s.jsx(d,{})," Tiếp tục mua sắm"]})]})})}):s.jsx("div",{className:"cart-page",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"cart-header",children:[s.jsx("h1",{children:"Giỏ hàng của bạn"}),s.jsxs("p",{className:"cart-count",children:[n.length," sản phẩm"]})]}),s.jsxs("div",{className:"cart-content",children:[s.jsx("div",{className:"cart-items",children:n.map(a=>s.jsxs("div",{className:"cart-item",children:[s.jsx("div",{className:"cart-item-image",children:s.jsx("img",{src:a.image,alt:a.name})}),s.jsxs("div",{className:"cart-item-details",children:[s.jsx(c,{to:`/product/${a.id}`,className:"cart-item-name",children:a.name}),s.jsxs("div",{className:"cart-item-options",children:[a.selectedSize&&s.jsxs("span",{className:"item-option",children:["Size: ",s.jsx("strong",{children:a.selectedSize})]}),a.selectedColor&&s.jsxs("span",{className:"item-option",children:["Màu: ",s.jsx("strong",{children:a.selectedColor})]})]}),s.jsx("div",{className:"cart-item-price",children:e(a.price)})]}),s.jsxs("div",{className:"cart-item-actions",children:[s.jsxs("div",{className:"quantity-control",children:[s.jsx("button",{className:"qty-btn",onClick:()=>t(a.cartItemId,a.quantity-1),disabled:a.quantity<=1,children:s.jsx(p,{})}),s.jsx("span",{className:"quantity",children:a.quantity}),s.jsx("button",{className:"qty-btn",onClick:()=>t(a.cartItemId,a.quantity+1),children:s.jsx(v,{})})]}),s.jsx("button",{className:"remove-btn",onClick:()=>m(a.cartItemId),title:"Xóa sản phẩm",children:s.jsx(g,{})})]}),s.jsx("div",{className:"cart-item-subtotal",children:e(a.price*a.quantity)})]},a.cartItemId))}),s.jsxs("div",{className:"cart-summary",children:[s.jsxs("div",{className:"summary-card",children:[s.jsx("h3",{children:"Tóm tắt đơn hàng"}),s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{children:"Tạm tính:"}),s.jsx("span",{className:"summary-value",children:e(r())})]}),s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{children:"Phí vận chuyển:"}),s.jsx("span",{className:"summary-value free",children:"Miễn phí"})]}),s.jsx("div",{className:"summary-divider"}),s.jsxs("div",{className:"summary-row total",children:[s.jsx("span",{children:"Tổng cộng:"}),s.jsx("span",{className:"summary-total",children:e(r())})]}),s.jsx("button",{className:"checkout-btn",onClick:()=>{l(o?"/checkout-info":"/login?redirect=/checkout-info")},children:"Tiến hành thanh toán"}),s.jsxs(c,{to:"/",className:"continue-link",children:[s.jsx(d,{})," Tiếp tục mua sắm"]}),s.jsx("button",{className:"clear-cart-btn",onClick:h,children:"Xóa toàn bộ giỏ hàng"})]}),s.jsxs("div",{className:"cart-benefits",children:[s.jsxs("div",{className:"benefit-item",children:[s.jsx(i,{className:"benefit-icon"}),s.jsx("span",{children:"Miễn phí vận chuyển với đơn hàng trên 500.000đ"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx(i,{className:"benefit-icon"}),s.jsx("span",{children:"Đổi trả trong vòng 7 ngày"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx(i,{className:"benefit-icon"}),s.jsx("span",{children:"Thanh toán an toàn & bảo mật"})]})]})]})]})]})})}export{f as default};
